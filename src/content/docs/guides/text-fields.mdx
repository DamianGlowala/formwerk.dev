---
title: Text Fields
description: A guide in my new Starlight docs site.
---

import { Tabs, TabItem, Aside } from '@astrojs/starlight/components';

Text fields are used to allow users to input basic text into a form.

Text fields are implemented with the `input` element for single line of text or `textarea` element for multiple lines of text.

## Features

- Uses `input` or `textarea` elements as a base.
- Accessibility support for labels, descriptions, and error messages.
- Validation and error messages support with native HTML constraint validation or Typed schemas.
- Support for `v-model` binding.

## Anatomy

// TODO: Add anatomy image

## API

| Name                | Type                               | Description                                                         |
| ------------------- | ---------------------------------- | ------------------------------------------------------------------- |
| `descriptionProps`  | `AriaDescriptionProps`             | The description element's props.                                    |
| `displayError`      | `() => string \| undefined`        | A getter to display the error message if touched.                   |
| `errorMessage`      | `string \| undefined`              | The validation message.                                             |
| `errorMessageProps` | `AriaErrorMessageProps`            | The error message element props.                                    |
| `errors`            | `string[]`                         | The field's error messages.                                         |
| `fieldValue`        | `string \| undefined`              | The current value of the field.                                     |
| `inputProps`        | Complex Binding                    | The base element props.                                             |
| `isDirty`           | `boolean`                          | Whether the field value has changed.                                |
| `isTouched`         | `boolean`                          | Whether the field is touched.                                       |
| `isValid`           | `boolean`                          | Whether the field has error messages.                               |
| `labelProps`        | `AriaLabelProps`                   | The label element props.                                            |
| `setErrors`         | `(msg: Arrayable<string>) => void` | Sets the error messages for the field and sets the `isValid` state. |
| `setTouched`        | `(touched: boolean) => void`       | Sets the `isTouched` state.                                         |
| `setValue`          | `(value: number) => void`          | Sets the field's current value.                                     |

## Building a Text Field Component

```vue
<script setup lang="ts">
import { TextFieldProps, useTextField } from '@formwerk/core';

const props = defineProps<TextFieldProps>();

const {
  inputProps,
  labelProps,
  errorMessage,
  errorMessageProps,
  descriptionProps,
} = useTextField(props);
</script>

<template>
  <div>
    <label v-bind="labelProps">{{ label }}</label>
    <input v-bind="inputProps" />

    <div v-if="errorMessage" v-bind="errorMessageProps">
      {{ errorMessage }}
    </div>
    <div v-else-if="description" v-bind="descriptionProps">
      {{ description }}
    </div>
  </div>
</template>
```

<Aside type="caution">

Only `text`, `email`, `tel` and `url` types are supported at the moment for `input` elements.

The other types have their own composables, check out the following guides:

- Number field, check out the [Number Field](/guides/number-fields) guide.
- Search field, check out the [Search Field](/guides/search-fields) guide.

</Aside>

## Building a Text Area Component

Instead of using a `input[type="text"]` element, you can switch to using a `textarea` element as a base element instead.

```vue
<script setup lang="ts">
import { TextFieldProps, useTextField } from '@formwerk/core';

const props = defineProps<TextFieldProps>();

const {
  inputProps,
  labelProps,
  errorMessage,
  errorMessageProps,
  descriptionProps,
} = useTextField(props);
</script>

<template>
  <div>
    <label v-bind="labelProps">{{ label }}</label>
    <textarea v-bind="inputProps" />

    <div v-if="errorMessage" v-bind="errorMessageProps">
      {{ errorMessage }}
    </div>
    <div v-else-if="description" v-bind="descriptionProps">
      {{ description }}
    </div>
  </div>
</template>
```

## Validation

### HTML Constraints

You can use native HTML validation or Typed schemas to validate the number field. The following properties are supported:

| Name        | Type               | Description                                                               |
| ----------- | ------------------ | ------------------------------------------------------------------------- |
| `maxLength` | `number`           | The maximum length of characters                                          |
| `minLength` | `number`           | The minimum length of characters                                          |
| `required`  | `boolean`          | Whether the text field is required.                                       |
| `pattern`   | `string \| RegExp` | A regular expression for validation. Not supported for `textarea` fields. |

In addition to the above properties, if you are using the `input` element, you can use the built-in validation for the `type` attribute.

| Type    | Description                      |
| ------- | -------------------------------- |
| `email` | Validates the value as an email. |
| `url`   | Validates the value as a URL.    |

<Aside>
  Note that `minLength`, and `maxLength` attributes accept a number or a string,
  the string however must be parseable as a number. Formwerk takes care of
  typing strings safely and parsing them so you don't have to bind the values as
  numbers.
</Aside>

Here is an example of how to use the `maxLength` and `minLength` properties to limit the text length between 3 and 18 characters.

Assuming you have a `TextField` component like the one shown above, you can use it like this:

```vue
<script setup lang="ts">
import TextField from './TextField.vue';

const value = ref('');
</script>

<template>
  <TextField v-model="value" maxLength="18" minLength="3" required />
</template>
```

### Typed Schema

`useTextField` also supports Typed Schema validation through the `schema` prop.

<Aside>

Depending on the schema validation provider you are using, the API might slightly differ. Check the supported validation providers for more information. In this example we are using the `zod` schema validation provider.

</Aside>

```vue
<script setup lang="ts">
import { z } from 'zod';
import { defineSchema } from '@formwerk/schema-zod';
import TextField from './TextField.vue';

const schema = defineSchema(z.string().min(3).max(18));
</script>

<template>
  <TextField label="Typed Schema" :schema="schema" />
</template>
```

## Styling

## Usage
